<script src="../js/jquery-3.6.0.min.js"></script>
<script>
	function find(arr, search, fn) {
		var idx = arr.indexOf(search)
		fn(arr[idx], idx)
	}

	var arr = ['A', 'B', 'C']
	// find(arr, 'C', function (v, i) {
	// 	if (i == -1) alert('포함이 안되어 있어요~')
	// 	else alert(v + '는 포함되어 있어요~')
	// })
	// https://api.openweathermap.org/data/2.5/weather?lat=위도&lon=경도&units=metric&appid=본인의APIKey
	//units=metric 는 화씨를 섭씨로 바꾸는 것


	// https://api.openweathermap.org/data/2.5/weather?lat=37.57772925722713&lon=126.92785498057282&units=metric&appid=d448bd0f037cc68b858d9cc0c8556118


	//d448bd0f037cc68b858d9cc0c8556118


	// console.log(navigator);
	// navigator.geolocation.getCurrentPosition(function (r) { console.log(r); }, function (err) {
	// 	console.log(err);	})//함수 두개와 옵션 하나	
	//밑의 표현식과 같다
	navigator.geolocation.getCurrentPosition(onSuccess, onError)
	var url = 'https://api.openweathermap.org/data/2.5/weather'
	var data = {
		appid: 'd448bd0f037cc68b858d9cc0c8556118',
		units: 'metric',
	}


	function onSuccess(r) {
		data.lat = r.coords.latitude,
			data.lon = r.coords.longitude
		$.get(url, data, onGetData)
	}



	function onError(err) {
		data.lat = 37.5666,
			data.lon = 126.977
		$.get(url, data, onGetData)
	}

	}


	function onGetData(r, status, xhr) {
		console.log(r)
		console.log(status)
		console.log(xhr)

	}
</script>